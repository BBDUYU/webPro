<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>2025. 11. 19. 오후 3:17:31</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico"> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<style>
	*{
		box-sizing: border-box;
	}
	body{
		border: 1px solid red;
		padding: 20px;
		font-family: Arial;
		
		max-width: 800px;
		margin: 0 auto;
		height: 100%;
	}
	.row::after{
		content: "";
		clear: both;
		display: block;
	}
</style>
<style>
	.row .side{
		width: 15%;
		margin-top: 10px;
		
		float:left;
	}
	.row .middle{
		width: 70%;
		margin-top: 10px;
		float:left;
	}
	.row .middle .bar-container{
		width: 100%;
		background-color: #f1f1f1;
		text-align: center;
		color: white;
	}
	.row .middle .bar-container .bar-1{
		background-color: red;
		height: 18px;
		width: 20%;
	}
	.row .middle .bar-container .bar-2{
		background-color: green;
		height: 18px;
		width: 80%;
	}
	.row .middle .bar-container .bar-3{
		background-color: blue;
		height: 18px;
		width: 15%;
	}
	.row .middle .bar-container .bar-4{
		background-color: yellow;
		height: 18px;
		width: 55%;
	}
	.row .right{
		text-align: right;
	}
	
</style>
</head>
<body>
<h3>설문조사 - 막대그래프</h3>
<button id="btnExec">랜덤 막대 그래프 그리기</button>

<div class="row">
	<div class="side">
		<div>1 star</div>
	</div>
	<div class="middle">
		<div class="bar-container">
			<div class="bar-1"></div>
		</div>
	</div>
	<div class="side right">
		<div>20</div>
	</div>
</div>
<div class="row">
	<div class="side">
		<div>2 star</div>
	</div>
	<div class="middle">
		<div class="bar-container">
			<div class="bar-2"></div>
		</div>
	</div>
	<div class="side right">
		<div>80</div>
	</div>
</div>
<div class="row">
	<div class="side">
		<div>3 star</div>
	</div>
	<div class="middle">
		<div class="bar-container">
			<div class="bar-3"></div>
		</div>
	</div>
	<div class="side right">
		<div>15</div>
	</div>
</div>
<div class="row">
	<div class="side">
		<div>4 star</div>
	</div>
	<div class="middle">
		<div class="bar-container">
			<div class="bar-4"></div>
		</div>
	</div>
	<div class="side right">
		<div>55</div>
	</div>
</div>
<script>
	//jquery 수정
 $("#btnExec").on("click", function (){     
   // jquery 수정
      // bar-1, bar-2, bar-3, bar-4
      $(".row .middle .bar-container div").each(function (index, elem){
        // 0<= 정수 <=100  
        let n = Math.floor( Math.random()*101 ); 
        $(elem).css("width",`${n}%` ).closest(".middle").next().first().text(`${n}`);   
      });     
  });
	
	
</script>
</body>
</html>